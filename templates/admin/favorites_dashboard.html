{% extends "admin/change_list.html" %}

{% block result_list %}
{% endblock %}

{% block content %}

  <div class="dashboard-wrapper">

    <h2>üìä –û—Ç—á—ë—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤</h2>

    <p class="dashboard-text">
      –í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –æ—Ç—á—ë—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É Excel –¥–ª—è –≤—ã–≥—Ä—É–∑–∫–∏.
    </p>

    <div class="dashboard-buttons">

      <button class="dash-btn" onclick="setPeriod('all')">
        –í–µ—Å—å –ø–µ—Ä–∏–æ–¥
      </button>

      <button class="dash-btn" onclick="setPeriod('week')">
        –ù–µ–¥–µ–ª—è
      </button>

      <button class="dash-btn" onclick="setPeriod('month')">
        –ú–µ—Å—è—Ü
      </button>

      <button class="dash-btn excel-btn" onclick="exportExcel()">
        ‚¨á Excel
      </button>

    </div>

  </div>


  {{ block.super|cut:"<table" }}

  <script>

    function setPeriod(p) {
      const url = new URL(window.location.href);
      url.searchParams.set("period", p);
      window.history.replaceState({}, '', url);
    }

    function exportExcel() {
      const url = new URL(window.location.href);
      url.searchParams.set("export", "1");
      window.location.href = url.toString();
    }

  </script>

  <style>

    .dashboard-wrapper {
      padding: 25px;
    }

    .dashboard-text {
      color: #989898;
      max-width: 600px;
    }

    .dashboard-buttons {
      margin-top: 20px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }

    .dash-btn {
      padding: 10px 18px;
      border-radius: 4px;
      border: none;
      background: #f1f3f6;
      color: #111111;
      font-weight: 500;
      cursor: pointer;
      transition: all .3s ease;
    }

    .dash-btn:hover {
      background: #e2e6ed;
      transform: translateY(-1px);
    }

    .excel-btn {
      background: #2ea633;
      color: white;
    }

    .excel-btn:hover {
      background: #34c03a;
      box-shadow: 0 3px 12px rgba(46, 166, 51, 0.49);
    }

  </style>

{% endblock %}